<div class="container">

  <h1>Annonces</h1>

  <div class="row">
    <!-- Corps de l'annonce -->
    <div class="col-9">
      <div *ngFor="let annonce of annonceService.annonces;let index = index">

        <div class='row border' style="margin-bottom: 20px" (click)="showCompletDetail(index)">

          <div class="col-md-3 p-0 imageCadrage">
             <img *ngIf="annonce.images[0]" src="data:image/png;base64,{{annonce.images[0].path}}" alt="" width="100%" height="100%">
            <img *ngIf="!annonce.images[0]" src="https://www.labaleine.fr/sites/default/files/image-not-found.jpg" width="100%" height="100%">
          </div>
<!--          Description de l'annonce-->
          <div class="col-md-4">
            <p>Marque : {{annonce.make}}</p>
            <p>Modèle : {{annonce.model}}</p>
            <p>Catégorie : {{annonce.category}}</p>
            <p>Energie : {{annonce.energy}}</p>
            <p>KM :{{annonce.mileage}}</p>
            <p>Immatriculé : {{annonce.year}}</p>

          </div>

<!--          Prix et localisation et stage-->
          <div class="col-md-2">

            <p>Stage : {{annonce.stage}}</p>
            <p>Localisé à {{annonce.localisation}}</p>
            <p class="text-justify-right"><strong> {{annonce.price}} € </strong> </p>
          </div>
        </div>

      </div>
    </div>

    <!-- Corps de filtrage -->
    <div class="col-3">
      <div class="input-group mb-3 mt-2">
      <select class="custom-select form-control" id="tri" (change)="onSelectFilter($event)">
        <!-- <option *ngFor="let filter in basicFilter; let f = index" [value]="basicFilter[f].value" ></option>
        - --><option value="recentes" selected>Plus récentes</option>
         <option value="anciennes">Plus anciennes</option>
         <option value="croissant">Prix croissant</option>
         <option value="decroissant">Prix décroissant</option>

      </select>
    </div>
      <hr>
      <form [formGroup]="filtreForm" (submit)="filterAnnonce()">
        <div class="input-group mb-3">
          <input type="text" class="form-control" list="makes_list" placeholder="Marque" formControlName="make">
          <datalist id="makes_list">
            <option *ngFor="let make_list of annonceService.makes; let m = index" [value]="annonceService.makes[m].make" >
          </datalist>
        </div>
        <div class="input-group mb-3">
          <input type="text" class="form-control" list="models_list" placeholder="Modèle" formControlName="model">
          <datalist id="models_list">
            <option *ngFor="let model_List of annonceService.models; let i = index" [value]="annonceService.models[i].model" >
          </datalist>
        </div>
        <div class="input-group mb-3">
          <input type="text" class="form-control" list="categories_list" placeholder="Catégorie" formControlName="category">
          <datalist id="categories_list">
            <option *ngFor="let category_List of annonceService.categories; let c = index" [value]="annonceService.categories[c].category" >
          </datalist>

        </div>
        <div class="input-group mb-3">
          <input type="text" class="form-control" list="energies_list" placeholder="Carburant" formControlName="energy">
          <datalist id="energies_list">
            <option *ngFor="let energy_List of annonceService.energies; let e = index" [value]="annonceService.energies[e].energy" >
          </datalist>
        </div>

        <div class="input-group mb-3">
          <input type="number" class="form-control" placeholder="Prix min" formControlName="minPrice" aria-label="minPrix" aria-describedby="basic-addon1">
          <input type="number" class="form-control" placeholder="Prix max"formControlName="maxPrice" aria-label="maxPrix" aria-describedby="basic-addon1">
        </div>
        <div class="input-group mb-3">
          <input type="number" class="form-control" placeholder="Année Min" formControlName="minYear" aria-label="minAnnee" aria-describedby="basic-addon1">
          <input type="number" class="form-control" placeholder="Année Max" formControlName="maxYear" aria-label="maxAnnee" aria-describedby="basic-addon1">
        </div>
        <div class="input-group mb-3">
          <input type="number" class="form-control" formControlName="minHorsePower" placeholder="CH min" aria-label="ch" aria-describedby="basic-addon1">
          <input type="number" class="form-control" formControlName="maxHorsePower" placeholder="CH max" aria-label="ch" aria-describedby="basic-addon1">
        </div>
        <div class="input-group mb-3">
          <input type="number" class="form-control" placeholder="CV min" aria-label="cv" aria-describedby="basic-addon1">
          <input type="number" class="form-control" placeholder="CV max" aria-label="cv" aria-describedby="basic-addon1">
        </div>
        <div class="input-group mb-3">
          <button class="form-control btn btn-primary" type="submit">Filtrer</button>
        </div>
      </form>

    </div>
  </div>

</div>
